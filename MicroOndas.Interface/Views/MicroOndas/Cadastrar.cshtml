@{
    ViewData["Title"] = "Cadastrar";
}

<div class="container mt-5 d-flex justify-content-center">
    <div class="col-md-6">
        <h2 class="text-center">Cadastrar</h2>
        <div class="mt-4">
            <div class="mb-3">
                <label for="login" class="form-label">Login</label>
                <input type="text" class="form-control" id="login" name="login" placeholder="Digite seu login" required>
            </div>
            <div class="mb-3">
                <label for="senha" class="form-label">Senha</label>
                <input type="password" class="form-control" id="senha" name="senha" placeholder="Digite sua senha" required>
            </div>
            <div class="mb-3">
                <label for="confirmarSenha" class="form-label">Confirmar Senha</label>
                <input type="password" class="form-control" id="confirmarSenha" name="confirmarSenha" placeholder="Confirme sua senha" required>
            </div>
            <button class="submit btn btn-primary w-100">Cadastrar</button>
        </div>
        <div style="margin-top:2%;">
            <label class="mensagem" style="font:bold;"></label>
        </div>
    </div>
</div>

<script>
    $(document).ready(() =>
    {
        $("button.submit:first").on("click", function()
        {
            let _login = $("#login").val();
            let _senha = $("#senha").val();
            let _resenha = $("#confirmarSenha").val();

            let dados = {
                login: _login,
                senha: _senha,
                resenha: _resenha
            };

            ajaxjson("/MicroOndas/PostCadastro","Post",dados, function(data)
            {
                $("label.mensagem:first").css("color",data.cor);
                $("label.mensagem:first").text(data.retorno);

                //Cadastro efetuado com sucesso!
                //Limpar campos.
                if(data.cor == "green")
                {
                       $("#login").val("");
                       $("#senha").val("");
                       $("#confirmarSenha").val("");
                }
            });
        });
    });
</script>
